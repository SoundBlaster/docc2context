# F3.1 – Performance Regression CI

**Status:** Complete  
**Completion Date:** 2025-12-14  
**Owner:** docc2context agent  
**Related PRD:** Non-functional performance target (≤10s for ~10 MB bundles)

## Summary
- Added `BenchmarkComparator` with tolerance-based regression checks and baseline loading.
- Extended `docc2context-benchmark` with baseline/tolerance flags and `--fail-on-regression`, plus injectable runner for testing.
- Introduced deterministic baseline file `Benchmarks/performance-baseline.json` (synthetic ~10 MB bundle metrics).
- Added opt-in GitHub Actions workflow `Performance Benchmark` (manual dispatch or `perf-check` label) to run the benchmark, compare to baseline, and upload metrics.
- Updated README with baseline comparison usage and CI guidance.

## Validation
- Tests: `swift test` (includes new `BenchmarkComparatorTests` and `BenchmarkCommandBaselineTests`).
- Workflow configuration created (`.github/workflows/performance-benchmark.yml`); optional/non-blocking unless invoked.

## Notes
- CI uses synthetic 10 MB fixture (`--synthesize-megabytes 10`, 3 iterations, 10s threshold) and x2 tolerance on average/max to mitigate runner variance.
- Baseline drift should be managed deliberately when performance changes are intentional; adjust baseline/tolerance as needed.
