# docc2context TODO List

Use this list for near-term execution. Each entry maps back to the PRD and [workplan](./workplan.md).

## In Progress
- **E1 Documentation Synchronization & Post-Phase-D Cleanup** — Synchronize phase documents (phase_c.md, phase_d.md) to reflect completion of C5, D4, D4-LNX, and D4-MAC; refresh todo.md sections; catalog D4-MAC follow-up opportunities; verify cross-references across DOCS/ tree. _Depends on:_ None (all phases A–D complete). _Doc:_ `DOCS/INPROGRESS/E1_DocumentationSync.md`. _Owner:_ docc2context agent. _Status:_ Selected via SELECT_NEXT 2025-11-22; documentation-only task (no code changes).

## Completed
- [x] **D4-MAC macOS Release Channels** Ship the macOS distribution workflow outlined in PRD §4.6, including Homebrew tap/formula updates for arm64/x86_64 tarballs, manual install script, and documented codesign/notarization for prebuilt binaries. _Depends on:_ D4 release automation and D4-LNX packaging lessons learned. _Doc:_ PRD §Phase D (D4-MAC), `DOCS/TASK_ARCHIVE/26_D4-MAC_MacReleaseChannels/`. _Owner:_ docc2context agent. _Status:_ Complete – Cycle 7; added arch-aware macOS zips + summaries, Homebrew formula generator hooked into the release workflow, curl-able `install_macos.sh` with dry-run support, README install/codesign/notary guidance, and macOS arm64/x86_64 CI packaging matrix.
- [x] **D4-LNX Linux Release Packaging Matrix** Implement the Linux distribution plan from PRD §4.6 by emitting `docc2context-<version>-linux-<arch>.tar.gz` archives, `.deb`/`.rpm` packages built via native Debian/RPM tooling, and README install snippets (`curl | tar`, `dpkg -i`, `dnf install`). _Depends on:_ D4 release automation (build gating + artifact upload). _Doc:_ PRD §Phase D (D4-LNX) + `DOCS/TASK_ARCHIVE/25_D4-LNX_LinuxReleasePackagingMatrix/`. _Owner:_ docc2context agent. _Status:_ Complete – Cycle 6; added `Scripts/build_linux_packages.sh`, multi-arch packaging in `Scripts/package_release.sh`, README install snippets, workflow matrix updates, and end-to-end tests covering the helper.
- [x] **D4 Package Distribution & Release Automation** Prepare the release workflow that builds signed binaries for Linux/macOS only after quality gates succeed. _Depends on:_ D1 logging, D2 coverage gate, D3 documentation readiness. _Doc:_ `DOCS/TASK_ARCHIVE/24_D4_PackageDistributionRelease/`. _Owner:_ docc2context agent. _Status:_ Complete – Cycle 5; added `Scripts/package_release.sh`, `PackageReleaseScriptTests`, README release packaging guidance, and `.github/workflows/release.yml` so tagged builds upload deterministic artifacts + hashes only after release gates succeed.
- [x] **D2 Harden Test Coverage** Raise coverage on determinism, failure-path, and pipeline seams to >90% and gate CI on the threshold before release hardening. _Depends on:_ C5 determinism verification landing. _Doc:_ `DOCS/TASK_ARCHIVE/22_D2_HardenTestCoverage/`. _Owner:_ docc2context agent. _Status:_ Complete – Cycle 4; added CLI/pipeline/metadata parser failure-path tests (69 total), coverage enforcement script + CI job, README updates, and release gate integration. `Docc2contextCore` coverage now 90.43% enforced locally and in CI.
- [x] **D3 Document Usage & Testing Workflow** README now documents quick start, fixtures, automation workflow, coverage + release gates, and troubleshooting FAQ. Added `Scripts/lint_markdown.py`, a docs lint CI job, and `DocumentationGuidanceTests` to guarantee the guidance stays in sync. _Depends on:_ D2 coverage gate. _Doc:_ `DOCS/TASK_ARCHIVE/23_D3_DocumentUsageTestingWorkflow/`. _Owner:_ docc2context agent.
- [x] **C5 Verify Determinism** Run the conversion pipeline twice (locally + CI) and fail when hashes differ so releases stay deterministic. _Depends on:_ C4 TOC/index emission. _Doc:_ `DOCS/TASK_ARCHIVE/21_C5_VerifyDeterminism/`. _Owner:_ docc2context agent. _Status:_ Complete – Cycle 3; `DeterminismValidator` class provides file/directory hashing; 5 determinism tests validate repeated conversions produce byte-identical outputs; extended `Scripts/release_gates.sh` with full output determinism checking; added explicit CI `determinism` job; updated README with verification workflow. All 55 tests pass (50 existing + 5 new).
- [x] **C4 Emit TOC and Index** Generate deterministic table-of-contents and index Markdown alongside tutorial/article exports, leveraging the link graph for ordering. _Depends on:_ C3 link graph. _Doc:_ `DOCS/TASK_ARCHIVE/20_C4_EmitTOCAndIndex/`. _Owner:_ docc2context agent. _Status:_ Complete – archived under `DOCS/TASK_ARCHIVE/20_C4_EmitTOCAndIndex/`; Cycle 2 notes document validation via `swift test` and outline follow-ups for determinism.
- [x] **C3 Create Link Graph** Build cross-document link graph from DocC identifiers and relationships. _Depends on:_ C2 markdown generation. _Doc:_ `DOCS/TASK_ARCHIVE/19_C3_CreateLinkGraph/`. _Owner:_ docc2context agent. _Status:_ Complete – archived under `DOCS/TASK_ARCHIVE/19_C3_CreateLinkGraph/`; `LinkGraphBuilder` + `LinkGraph` model + 8 tests (7 unit + 1 integration) construct deterministic JSON adjacency files per bundle with full relationship extraction (tutorial chapters, catalog topics, symbol references).
- [x] **C2 Generate Markdown Files** Convert DocC tutorial volumes, chapters, tutorials, and reference articles into Markdown
  files that match the locked snapshot specs, persisting outputs to the requested directory with deterministic naming. _Depends
  on:_ C1 snapshot specs + B6 internal model + renderer scaffolding. _Doc:_ PRD §Phase C. _Owner:_ docc2context agent. _Status:_
  Complete – archived under `DOCS/TASK_ARCHIVE/18_C2_GenerateMarkdown/`; `MarkdownGenerationPipeline` plus CLI integration tests
  write deterministic files mirroring the Markdown snapshots under `MarkdownGenerationPipelineTests`.
- [x] **B6 Serialization Coverage** Add JSON serialization + determinism tests for `DoccBundleModel` and tutorial volumes. _Depends on:_ B6. _Doc:_ PRD §Phase B acceptance criteria. _Owner:_ docc2context agent. _Status:_ Complete – archived under `DOCS/TASK_ARCHIVE/13_B6_SerializationCoverage/`; deterministic encoder helpers, JSON snapshots, and `DoccInternalModelSerializationTests` guard internal model serialization.
- [x] **B6 Documentation Update** Capture the internal model mapping + tutorial ordering guarantees inside `README.md` and developer docs. _Depends on:_ B6. _Doc:_ PRD §Phase B (documentation readiness). _Owner:_ docc2context agent. _Status:_ Complete – archived under `DOCS/TASK_ARCHIVE/12_B6_DocumentationUpdate/`; README section + `InternalModelDocumentationTests` enforce the contract.
- [x] **C1 Markdown Snapshot Specs** Author failing Markdown snapshot tests plus fixture layout covering tutorial volumes, chapters, and articles before renderer code begins. _Depends on:_ B6 internal model + serialization readiness, C1 outline. _Doc:_ PRD §Phase C, workplan §Phase C. _Owner:_ docc2context agent. _Status:_ Complete – archived under `DOCS/TASK_ARCHIVE/16_C1_MarkdownSnapshotSpecs/`; tutorial overview, chapter, and reference article specs live in `MarkdownSnapshotSpecsTests` with snapshots stored under `Tests/__Snapshots__/MarkdownSnapshotSpecsTests/`.
- [x] **C1 Reference Article Snapshot Spec** Plan and implement the failing Markdown snapshot test for the first reference/article page using `Fixtures/ArticleReference.doccarchive`, capturing expectations for metadata, prose, code listings, and navigation before renderer work starts. _Depends on:_ B6 internal model + serialization helpers, C1 outline. _Doc:_ PRD §Phase C, `DOCS/TASK_ARCHIVE/17_C1_ReferenceArticleSnapshot/`. _Owner:_ docc2context agent. _Status:_ Complete – archived under `DOCS/TASK_ARCHIVE/17_C1_ReferenceArticleSnapshot/`; `MarkdownSnapshotSpecsTests.test_referenceArticlePageMatchesSnapshot` renders via `DoccMarkdownRenderer.renderReferenceArticle`, and the snapshot lives alongside the tutorial specs.
- [x] **A2** Create XCTest support utilities (temporary directories, fixture loader) and snapshot harness. _Depends on:_ A1. _Doc:_ PRD §Phase A. _Owner:_ docc2context agent. _Status:_ Complete – archived under `DOCS/TASK_ARCHIVE/03_A2_TDDHarness/`.
- [x] **A3** Establish DocC sample fixtures (tutorial-focused + API/article bundle) under `Fixtures/` with provenance manifest. _Depends on:_ A2. _Doc:_ PRD §Phase A. _Owner:_ docc2context agent. _Status:_ Complete – archived under `DOCS/TASK_ARCHIVE/06_A3_DocCFixtures/`; fixtures + manifest hashes committed.
- [x] **A4** Define deployment & release gates (determinism hash, fixture integrity verification script, `swift test` guard). _Depends on:_ A1. _Doc:_ PRD §Phase A. _Owner:_ docc2context agent. _Status:_ Complete – archived under `DOCS/TASK_ARCHIVE/04_A4_ReleaseGates/`; `Scripts/release_gates.sh` now runs tests, determinism hashes, and fixture validation.
- [x] **B1** Author failing CLI interface tests describing arguments (`--output`, `--force`, `--format`). _Depends on:_ A2. _Doc:_ PRD §Phase B. _Owner:_ docc2context agent. _Status:_ Complete – archived under `DOCS/TASK_ARCHIVE/02_B1_CLIInterfaceTests/`.
- [x] **B2** Implement argument parsing to satisfy CLI interface tests using `swift-argument-parser`. _Depends on:_ B1. _Doc:_ PRD §Phase B. _Owner:_ docc2context agent. _Status:_ Complete – archived under `DOCS/TASK_ARCHIVE/05_B2_ArgumentParsing/`; `swift test` confirms the CLI contract enforced by `Docc2contextCLIOptions`.
- [x] **B3** Detect input type for directories vs `.doccarchive` inputs so downstream parsing always receives normalized bundle paths. _Depends on:_ B2. _Doc:_ PRD §Phase B. _Owner:_ docc2context agent. _Status:_ Complete – archived under `DOCS/TASK_ARCHIVE/07_B3_InputDetection/`; detection enum + CLI wiring validated via `swift test --filter InputDetectionTests` and the release gates script.
- [x] **D1** Implement logging & progress instrumentation so the CLI reports detection/extraction/generation phases with snapshot-tested structure. _Depends on:_ B2. _Doc:_ PRD §Phase D. _Owner:_ docc2context agent. _Status:_ Complete – archived under `DOCS/TASK_ARCHIVE/08_D1_StructuredLogging/`; logging facade + CLI integration validated via `swift test --filter LoggingTests` and release gates.
- [x] **A1** Bootstrap Swift package with CLI/lib/test targets plus GitHub Actions matrix for Linux/macOS. _Depends on:_ none. _Doc:_ PRD §Phase A. _Owner:_ docc2context agent. _Status:_ Complete – archived under `DOCS/TASK_ARCHIVE/01_A1_BootstrapSwiftPMCI/`.
- [x] **B4** Extract archive inputs into deterministic temporary directories with cleanup validation. _Depends on:_ B3. _Doc:_ PRD §Phase B. _Owner:_ docc2context agent. _Status:_ Complete – archived under `DOCS/TASK_ARCHIVE/10_B4_ArchiveExtraction/`; `ArchiveExtractor` + CLI wiring validated via `swift test --filter ArchiveExtractionTests`, full `swift test`, and `Scripts/release_gates.sh`.
- [x] **B5** Parse DocC metadata (Info.plist, documentation data, symbol graphs) into native models with fixture-driven failure coverage. _Depends on:_ B3. _Doc:_ PRD §Phase B. _Owner:_ docc2context agent. _Status:_ Complete – archived under `DOCS/TASK_ARCHIVE/09_B5_DoccMetadataParsing/`; parser entry points + README integration notes validated by `MetadataParsingTests` and release gates.
- [x] **B6** Build internal DocC model to bridge parsed metadata and future Markdown generation. _Depends on:_ B5. _Doc:_ PRD §Phase B; `PRD/phase_b.md`. _Owner:_ docc2context agent. _Status:_ Complete – archived under `DOCS/TASK_ARCHIVE/11_B6_InternalModel/`; `DoccInternalModelBuilder` emits deterministic bundle models validated via `DoccInternalModelBuilderTests.test_buildsTutorialVolumeOrderingFromCatalogFixture` and `swift test`.
- [x] **C1 Markdown Rendering Strategy Outline** Define the snapshot/fixture scope for tutorials vs. articles so Markdown generation tasks have clear specs. _Depends on:_ B6 internal model + serialization readiness. _Doc:_ PRD §Phase C, workplan §Phase C. _Owner:_ docc2context agent. _Status:_ Complete – archived under `DOCS/TASK_ARCHIVE/14_C1_MarkdownRenderingStrategy/` with validation evidence pointing to the Phase C PRD scope, DocC fixtures, and the initial `MarkdownSnapshotSpecsTests` snapshot harness; follow-up execution tracked via the C1 snapshot specs task.
- [x] **C1 Tutorial Chapter Snapshot Spec** Capture the deterministic Markdown contract for the first tutorial chapter page (`tutorialcatalog/tutorials/getting-started`) and lock it via `MarkdownSnapshotSpecsTests.test_tutorialChapterPageMatchesSnapshot`. _Depends on:_ C1 outline + tutorial overview snapshot harness. _Doc:_ PRD §Phase C (snapshot specs). _Owner:_ docc2context agent. _Status:_ Complete – archived under `DOCS/TASK_ARCHIVE/15_C1_TutorialChapterSnapshot/`; validated with `swift test --filter MarkdownSnapshotSpecsTests.test_tutorialChapterPageMatchesSnapshot` and the full `swift test` suite, with follow-on tutorial + article specs tracked in `DOCS/TASK_ARCHIVE/16_C1_MarkdownSnapshotSpecs/` and `17_C1_ReferenceArticleSnapshot/`.

## Ready to Start
- _None – tasks promoted to "In Progress" once E1 documentation sync identifies next priorities._

## Under Consideration
Following E1 completion, these candidates may be prioritized:

- **E2 Homebrew Tap Publishing Automation** — Automate Homebrew formula updates via GitHub Actions workflow; reduce manual tap repository updates after releases. _Depends on:_ Tap repository access and maintainer coordination. _References:_ D4-MAC archive gaps section. _Priority:_ Medium (enhances release automation).

- **E3 CI Signing/Notarization Setup** — Configure GitHub Actions secrets for macOS codesign identity and notarytool credentials so release workflow can produce notarized macOS binaries automatically. _Depends on:_ Apple Developer ID credentials provisioning. _References:_ D4-MAC archive gaps section. _Priority:_ Medium (completes macOS distribution trust chain).

- **E4 E2E Release Simulation** — Execute complete release workflow end-to-end (tag, build, package, upload) in a test environment to validate all release gates and distribution channels. _Depends on:_ E2, E3, or manual equivalents. _References:_ D4-MAC archive gaps section. _Priority:_ Medium (validates release readiness).

- **F1 Incremental Conversion** — Explore streaming Markdown output for very large DocC bundles to reduce memory footprint and enable progress reporting during long-running conversions. _Depends on:_ Performance profiling and requirements gathering. _References:_ todo.md Backlog Ideas. _Priority:_ Low (enhancement, baseline works for typical bundles).

- **F2 Technology Filter Flag** — Investigate CLI `--filter technology` flag for selective exports, allowing users to convert only specific documentation sections. _Depends on:_ Requirements gathering and TDD specs. _References:_ todo.md Backlog Ideas. _Priority:_ Low (enhancement, full export is default use case).

## Backlog Ideas
- [ ] Explore incremental conversion to stream Markdown output for very large DocC bundles.
- [ ] Investigate CLI `--filter technology` flag for selective exports once baseline pipeline ships.
